# 🔄 자동 백업 완벽 가이드

## 🎯 자동 백업 옵션

### **1. 실시간 파일 감시** (개발 중 추천) ⭐
```bash
npm run backup:watch
```
- ✅ 파일 10개 변경시 자동 백업
- ✅ 30분마다 정기 백업
- ✅ 변경 사항 실시간 모니터링
- ✅ 종료시 최종 백업

### **2. 개발 서버 통합** (가장 간편) ⭐⭐
```bash
npm run dev
```
- ✅ 서버 시작시 자동 백업
- ✅ 개발 중 자동 백업 (백그라운드)
- ✅ 서버 종료시 최종 백업
- ✅ 별도 설정 불필요

### **3. Windows 작업 스케줄러** (완전 자동)
```bash
# 관리자 권한으로 실행
.\scripts\setup-windows-scheduler.ps1
```
- ✅ 컴퓨터 켜져있으면 자동 실행
- ✅ 30분/1시간/2시간 간격 선택
- ✅ 백그라운드 실행
- ✅ 시스템 재시작해도 유지

### **4. 수동 백업** (필요시만)
```bash
npm run backup:create "작업 설명"
```

## 📋 빠른 설정 방법

### **초보자용 (가장 쉬움)**
```bash
# 그냥 이것만 실행!
npm run dev
```
자동으로 백업하면서 개발 서버 실행됩니다.

### **고급 사용자용**
```bash
# 1. 자동 백업 설정 도우미 실행
setup-auto-backup.bat

# 2. 원하는 옵션 선택
# 3. 끝!
```

## ⚙️ 상세 설정

### **자동 백업 설정 파일**
`scripts/auto-backup-config.json`:
```json
{
  "interval": 1800000,    // 30분 (밀리초)
  "maxChanges": 10        // 10개 파일 변경시 백업
}
```

### **백업 주기 변경**
- 10분: `"interval": 600000`
- 30분: `"interval": 1800000` (기본값)
- 1시간: `"interval": 3600000`
- 2시간: `"interval": 7200000`

## 📊 자동 백업 상태 확인

### **백업 로그 확인**
```bash
# 백업 목록
npm run backup:list

# 로그 파일 (자동 백업 기록)
type backups\auto-backup.log
```

### **실시간 모니터링**
```bash
npm run backup:watch
# 10초마다 상태 표시
# - 마지막 백업 시간
# - 변경된 파일 수
# - 다음 백업 예정
```

## 🎮 사용 시나리오

### **시나리오 1: 일일 개발**
```bash
# 아침 9시: 작업 시작
npm run dev
# → 자동으로 시작 백업 생성
# → 개발하면서 자동 백업
# → 저녁 6시: Ctrl+C로 종료
# → 자동으로 최종 백업 생성
```

### **시나리오 2: 장기 프로젝트**
```bash
# 1회만 설정
.\scripts\setup-windows-scheduler.ps1
# → 1시간마다 선택
# → 이후 잊어도 자동 백업!
```

### **시나리오 3: 중요 작업**
```bash
# 실시간 감시 모드
npm run backup:watch
# → 모든 변경 추적
# → 즉시 백업
```

## 🛡️ 안전 장치

### **다중 백업 전략**
1. **자동 백업**: 30분마다
2. **변경 감지**: 10개 파일 변경시
3. **시작/종료**: 서버 시작/종료시
4. **수동 백업**: 중요 작업 전후

### **백업 보관**
- 최대 50개 백업 자동 유지
- 오래된 백업 자동 삭제
- 평균 보관 기간: 2-3주

## 🚨 문제 해결

### **자동 백업이 안 될 때**
```bash
# 1. 패키지 확인
npm install

# 2. 수동 테스트
npm run backup:create "테스트"

# 3. 권한 확인 (Windows)
# 관리자 권한으로 실행
```

### **백업 용량 문제**
```bash
# 오래된 백업 수동 삭제
del backups\backup_2025-01*.zip

# 백업 폴더 확인
dir backups
```

## 💡 프로 팁

### **최적 설정**
- 개발 중: `npm run dev` (통합 모드)
- 장기간: Windows 스케줄러
- 중요 작업: 실시간 감시

### **백업 네이밍**
- ✅ "로그인 기능 완성"
- ✅ "버그 수정 전"
- ❌ "백업1", "asdf"

---
**기억하세요**: 자동 백업은 안전망입니다. 
중요한 작업 전후엔 수동 백업도 잊지 마세요! 🛡️